---
title: "【Node.js】memoizeで手軽にメモ化する"
pubDate: 2025-06-18
categories: ["JavaScript/TypeScript"]
tags: []
---

こんにちは、フリーランスエンジニアの太田雅昭です。

## 初期化処理

API Clientなどの初期化処理は、地味に面倒です。たとえば

```typescript
let client: Client;

export function getClient(){
  if (!client) {
    client = new Client();
  }
  return client;
}
```

```typescript
import { getClient } from './client';

getClient().xxx();
```

こう言うのは、地味に精神が削られていきます。同じようなコードを何度も書くのは、プログラマにとっては苦行です。

## memoize

memoizeを使えば、こうした苦行から解放されます。ついでに関数名もスマートにしています。

```typescript
import memoize from 'memoize';

export const client = memoize(() => new Client());
```

```typescript
import { client } from './client';

client().xxx();
```