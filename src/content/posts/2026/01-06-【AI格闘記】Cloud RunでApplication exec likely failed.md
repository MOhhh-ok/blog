---
title: 【AI格闘記】Cloud RunでApplication exec likely failed
pubDate: 2026-01-06
categories: ["AI"]
---

こんにちは、フリーランスエンジニアの太田雅昭です。

## 背景

プログラマは自分用のツールを作りがちです。私もその一人で、Google Compute Engine上で指定サイトの更新チェックをするプログラムを定期的に動かしていました。ただCompute Engineは地味にコストがかかるため、今回Cloud Runに移行しようとした次第です。

## AIに丸投げ

最近のプログラマは、本番は慎重になりつつも、自分用のツールはAIに任せがちです。ということでClaude Sonnet 4.5にまかせて、ステップごとに実装させていきました。簡単なツールなので、すぐ終わるつもりでいました。

## デプロイできない

なぜか一向にデプロイが成功しませんでした。具体的なエラーもさっぱり出てきません。ローカルテストは成功しているのに、これはおかしいと。しかし自分用のツールで一つ一つ見るのも面倒臭い。AIに直させて買い物へ行ってAIに直させてパンを食べて、そうこうしているうちに午前が終わろうとしています。これはまずいです。早くなんとかしないと、本業に取り掛かれません。焼きそばパンをかじりながら考えます。

## 諦めてじっくり見る

あきらめてじっくりエラーを追うことにしました。ところどころトラップを入れて、どこでエラーが出ているかを確認しようとします。今回初めてCloud Run環境でbunを使っていたため、そこのエラーをずっと疑っていたのですが、違いました。ここで一つのエラー文に注目します。

```
Application exec likely failed
```

これが鍵ではないかと。探してみるとありました。

https://stackoverflow.com/questions/69898865/google-cloud-run-failing-with-application-exec-likely-failed-error

これによると、Dockerをビルドするプラットフォームが違うためにこのエラーが出るようです。

いやいや待ってください。デプロイは通常gcloud関数で行うので、プラットフォーム間で差異が出るわけがありません。いやいやまさか。そう思いながらAIにこのURLを渡してみました。すると

```
AI: 「まさにこれです！」
```

は？いやいやgcloud buildしてたらプラットフォームの差異なんて出ないでしょ？何を言ってるんだこのバカAIは。待てよいやまさか。

## まさかの

慌ててデプロイスクリプトを確認すると、下記のようになっていました。

```sh
# Dockerイメージをビルド
echo ""
echo "4. Dockerイメージビルド..."
docker build --no-cache -t ${IMAGE_NAME}:latest .
```

はい、以下のように修正して終わりました。

```sh
# Dockerイメージをビルド（Cloud Buildを使用してプラットフォーム問題を回避）
echo ""
echo "4. Dockerイメージビルド（Cloud Buildを使用）..."
gcloud builds submit --tag ${IMAGE_NAME}:latest .
```

## なぜこうなったか

人が前提として思っている当たり前は、AIにとっては違っていたりします。これは人同士でも同じではあるのですが、どうもAIに対しては過剰な期待感があるのかもしれません。そのために、AIだからこれくらいは当たり前だろうと無意識に思っていたのでしょう。まさかAIがDockerをローカルでビルドしてGoogle CloudにPushするなんて、夢にも思わないわけです。しかし実際はそうなっていました。改めて、AIは信用してはいけないことを思い知らされた朝でした。
